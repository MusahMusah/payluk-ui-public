(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-32eb3180"],{3846:function(t,e,a){a("9e1e")&&"g"!=/./g.flags&&a("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:a("0bfb")})},"6b54":function(t,e,a){"use strict";a("3846");var n=a("cb7c"),c=a("0bfb"),r=a("9e1e"),s="toString",i=/./[s],o=function(t){a("2aba")(RegExp.prototype,s,t,!0)};a("79e5")((function(){return"/a/b"!=i.call({source:"a",flags:"b"})}))?o((function(){var t=n(this);return"/".concat(t.source,"/","flags"in t?t.flags:!r&&t instanceof RegExp?c.call(t):void 0)})):i.name!=s&&o((function(){return i.call(this)}))},"8e6e":function(t,e,a){var n=a("5ca1"),c=a("990b"),r=a("6821"),s=a("11e9"),i=a("f1ae");n(n.S,"Object",{getOwnPropertyDescriptors:function(t){var e,a,n=r(t),o=s.f,l=c(n),u={},m=0;while(l.length>m)a=o(n,e=l[m++]),void 0!==a&&i(u,e,a);return u}})},"990b":function(t,e,a){var n=a("9093"),c=a("2621"),r=a("cb7c"),s=a("7726").Reflect;t.exports=s&&s.ownKeys||function(t){var e=n.f(r(t)),a=c.f;return a?e.concat(a(t)):e}},ade3:function(t,e,a){"use strict";function n(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}a.d(e,"a",(function(){return n}))},f1ae:function(t,e,a){"use strict";var n=a("86cc"),c=a("4630");t.exports=function(t,e,a){e in t?n.f(t,e,c(0,a)):t[e]=a}},f2b2:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("vs-row",[a("vs-col",{staticClass:"m-2 mb-5 mx-auto",attrs:{"vs-lg":"7","vs-type":"flex","vs-justify":"center","vs-align":"center","vs-sm":"12","vs-xs":"12"}},[a("vx-card",[a("h2",{staticClass:"m-3 text-center",staticStyle:{color:"#7367f0"},attrs:{icon:"feather icon-credit-card"}},[t._v("Make Deposit")]),a("div",{staticClass:"vx-row mb-4 mt-6"},[a("div",{staticClass:"vx-col w-full"},[a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],staticClass:"w-full mt-6 mb-2",attrs:{"data-vv-validate-on":"blur",name:"email",type:"email","label-placeholder":"Email",placeholder:"Email"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),a("span",{staticClass:"text-danger text-sm"},[t._v(t._s(t.errors.first("email")))])],1)]),a("div",{staticClass:"vx-row mb-4 mt-6"},[a("div",{staticClass:"vx-col w-full"},[a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-full",attrs:{"data-vv-validate-on":"blur",name:"Amount","icon-pack":"feather",icon:"feather icon-credit-card","icon-no-border":"","label-placeholder":"Amount"},model:{value:t.amount,callback:function(e){t.amount=e},expression:"amount"}}),a("span",{staticClass:"text-danger text-sm"},[t._v(t._s(t.errors.first("Amount")))])],1)]),a("div",{staticClass:"vx-row "},[a("div",{staticClass:"vx-col w-full mt-6"},[a("vs-button",{staticClass:"mb-2",staticStyle:{width:"100%"},attrs:{disabled:!t.validateForm,"icon-pack":"feather",icon:"feather icon-credit-card"},on:{click:t.completePayment}},[t._v("Complete Payment")])],1)])])],1)],1)},c=[],r=(a("8e6e"),a("ac6a"),a("456d"),a("6b54"),a("a481"),a("ade3")),s=a("bc3a"),i=a.n(s),o=a("2f62"),l=a("4a7a"),u=a.n(l);function m(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function f(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?m(Object(a),!0).forEach((function(e){Object(r["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):m(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var p={data:function(){return{amount:"",email:"",payment_method:""}},components:{vSelect:u.a},methods:f(f({},Object(o["b"])({transactionDetailsData:"payments/transactionDetailsData",completePaystackPayment:"payments/completePaystackPayment"})),{},{completePayment:function(){"NGN"==this.activeUserCurrency?this.payWithPaystack():"USD"==this.activeUserCurrency&&this.invokeStripe()},payWithPaystack:function(){var t=PaystackPop.setup({key:"pk_test_d236cd0f648a7429521cad6c3018cd4d920f49e0",email:this.email,amount:100*this.amount,reference:""+Math.floor(1e9*Math.random()+1),callback:function(t){var e=t.reference,a=new FormData;a.append("reference",e),i()({method:"post",url:"/paystack/invoke",data:a}).then((function(){window.location.reload()})).catch((function(t){console.log(t)}))},onClose:function(){alert("Transaction was not completed, window closed.")}});t.openIframe()},creditUserAccount:function(t){var e=this;this.$vs.loading(),this.completePaystackPayment(t).then((function(t){console.log(t.data),e.$vs.loading.close(),e.$vs.notify({title:"Success",text:t.data.message,position:"top-right",iconPack:"feather",icon:"icon-alert-circle",color:"success"})})).catch((function(t){console.log(t),e.$vs.loading.close(),e.$vs.notify({title:"Error",text:Object(t.response.data.messages.error),position:"top-right",iconPack:"feather",icon:"icon-alert-circle",color:"danger"})}))},invokeStripe:function(){localStorage.setItem("amount",this.amount),this.$router.replace({name:"deposit-pay",params:{amount:this.amount}}).catch((function(t){console.log(t)}))}}),computed:f(f({},Object(o["c"])({getTransactionsDetails:"payments/getTransactionsData",getUserData:"users/getUserData"})),{},{user_transactions:function(){return null==this.getTransactionsDetails?[]:this.getTransactionsDetails},activeUserCurrency:function(){return this.getUserData.currency},validateForm:function(){return!this.errors.any()&&""!=this.amount&&""!=this.email}}),created:function(){this.transactionDetailsData()},mounted:function(){var t=document.createElement("script");t.src="https://js.paystack.co/v1/inline.js",document.getElementsByTagName("head")[0].appendChild(t);var e=document.createElement("script");e.src="https://js.stripe.com/v3/",document.getElementsByTagName("head")[0].appendChild(e);var a=document.createElement("script");a.src="https://polyfill.io/v3/polyfill.min.js?version=3.52.1&features=fetch",document.getElementsByTagName("head")[0].appendChild(a)},filters:{capitalize:function(t){return t?(t=t.toString(),t.charAt(0).toUpperCase()+t.slice(1)):""}}},d=p,v=a("2877"),h=Object(v["a"])(d,n,c,!1,null,null,null);e["default"]=h.exports}}]);
//# sourceMappingURL=chunk-32eb3180.a35996d3.js.map