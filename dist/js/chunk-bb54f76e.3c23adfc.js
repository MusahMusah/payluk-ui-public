(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bb54f76e"],{"156c":function(t,e,a){},"3b2b":function(t,e,a){var r=a("7726"),s=a("5dbc"),c=a("86cc").f,i=a("9093").f,n=a("aae3"),o=a("0bfb"),d=r.RegExp,l=d,u=d.prototype,m=/a/g,p=/a/g,f=new d(m)!==m;if(a("9e1e")&&(!f||a("79e5")((function(){return p[a("2b4c")("match")]=!1,d(m)!=m||d(p)==p||"/a/i"!=d(m,"i")})))){d=function(t,e){var a=this instanceof d,r=n(t),c=void 0===e;return!a&&r&&t.constructor===d&&c?t:s(f?new l(r&&!c?t.source:t,e):l((r=t instanceof d)?t.source:t,r&&c?o.call(t):e),a?this:u,d)};for(var v=function(t){t in d||c(d,t,{configurable:!0,get:function(){return l[t]},set:function(e){l[t]=e}})},h=i(l),b=0;h.length>b;)v(h[b++]);u.constructor=d,d.prototype=u,a("2aba")(r,"RegExp",d)}a("7a56")("RegExp")},"65f6":function(t,e,a){"use strict";var r=a("156c"),s=a.n(r);s.a},"8e6e":function(t,e,a){var r=a("5ca1"),s=a("990b"),c=a("6821"),i=a("11e9"),n=a("f1ae");r(r.S,"Object",{getOwnPropertyDescriptors:function(t){var e,a,r=c(t),o=i.f,d=s(r),l={},u=0;while(d.length>u)a=o(r,e=d[u++]),void 0!==a&&n(l,e,a);return l}})},"956e":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{clas:"wrapper",id:"app"}},[a("div",{staticClass:"vx-row"},[a("div",{staticClass:"w-full mb-10 vx-col"},[a("vx-card",{attrs:{"card-background":"primary","content-color":"#fff"}},[a("p",{staticClass:"mb-3 font-semibold text-center",staticStyle:{"font-size":"1.8em"}},[t._v("Withdrawal Charges "),t.totalWithdrawalCharges.length>1?a("span",[t._v(t._s(t.totalWithdrawalCharges))]):t._e()]),a("div",{staticClass:"flex justify-between"})])],1)]),a("div",{staticClass:"vx-row"},[a("div",{staticClass:"w-full mb-8 vx-col"},[a("div",{staticClass:"card-form"},[a("div",{staticClass:"card-list"},[a("div",{staticClass:"card-item",class:{"-active":t.isCardFlipped}},[a("div",{staticClass:"card-item__side -front"},[a("div",{ref:"focusElement",staticClass:"card-item__focus",class:{"-active":t.focusElementStyle},style:t.focusElementStyle}),a("div",{staticClass:"card-item__cover"},[a("img",{staticClass:"card-item__bg",attrs:{src:"https://raw.githubusercontent.com/muhammederdem/credit-card-form/master/src/assets/images/"+t.currentCardBackground+".jpeg"}})]),a("div",{staticClass:"card-item__wrapper"},[a("div",{staticClass:"card-item__top"},[a("img",{staticClass:"card-item__chip",attrs:{src:"https://raw.githubusercontent.com/muhammederdem/credit-card-form/master/src/assets/images/chip.png"}}),a("div",{staticClass:"card-item__type"},[a("transition",{attrs:{name:"slide-fade-up"}})],1)]),a("label",{ref:"cardNumber",staticClass:"card-item__number",attrs:{for:"cardNumber"}},["amex"===t.getCardType?t._l(t.amexCardMask,(function(e,r){return a("span",{key:r},[a("transition",{attrs:{name:"slide-fade-up"}},[r>4&&r<14&&t.cardNumber.length>r&&""!==e.trim()?a("div",{staticClass:"card-item__numberItem"},[t._v("*")]):t.cardNumber.length>r?a("div",{key:r,staticClass:"card-item__numberItem",class:{"-active":""===e.trim()}},[t._v("\n                        "+t._s(t.cardNumber[r])+"\n                      ")]):a("div",{key:r+1,staticClass:"card-item__numberItem",class:{"-active":""===e.trim()}},[t._v(t._s(e))])])],1)})):t._l(t.otherCardMask,(function(e,r){return a("span",{key:r},[a("transition",{attrs:{name:"slide-fade-up"}},[r>4&&r<15&&t.cardNumber.length>r&&""!==e.trim()?a("div",{staticClass:"card-item__numberItem"},[t._v("*")]):t.cardNumber.length>r?a("div",{key:r,staticClass:"card-item__numberItem",class:{"-active":""===e.trim()}},[t._v("\n                          "+t._s(t.cardNumber[r])+"\n                        ")]):a("div",{key:r+1,staticClass:"card-item__numberItem",class:{"-active":""===e.trim()}},[t._v(t._s(e))])])],1)}))],2),a("div",{staticClass:"card-item__content"},[a("label",{ref:"cardName",staticClass:"card-item__info",attrs:{for:"cardName"}},[a("div",{staticClass:"card-item__holder"},[t._v("Card Holder")]),a("transition",{attrs:{name:"slide-fade-up"}},[t.cardName.length?a("div",{key:"1",staticClass:"card-item__name"},[a("transition-group",{attrs:{name:"slide-fade-right"}},t._l(t.cardName.replace(/\s\s+/g," "),(function(e,r){return r===r?a("span",{key:r+1,staticClass:"card-item__nameItem"},[t._v(t._s(e))]):t._e()})),0)],1):a("div",{key:"2",staticClass:"card-item__name"},[t._v("Full Name")])])],1)])])]),a("div",{staticClass:"card-item__side -back"},[a("div",{staticClass:"card-item__cover"},[a("img",{staticClass:"card-item__bg",attrs:{src:"https://raw.githubusercontent.com/muhammederdem/credit-card-form/master/src/assets/images/"+t.currentCardBackground+".jpeg"}})]),a("div",{staticClass:"card-item__band"}),a("div",{staticClass:"card-item__cvv"},[a("div",{staticClass:"card-item__cvvTitle"},[t._v("CVV")]),a("div",{staticClass:"card-item__cvvBand"},t._l(t.cardCvv,(function(e,r){return a("span",{key:r},[t._v("\n                      *\n                    ")])})),0),a("div",{staticClass:"card-item__type"},[t.getCardType?a("img",{staticClass:"card-item__typeImg",attrs:{src:"https://raw.githubusercontent.com/muhammederdem/credit-card-form/master/src/assets/images/"+t.getCardType+".png"}}):t._e()])])])])]),a("div",{staticClass:"card-form__inner"},[a("div",{staticClass:"card-input"},[a("label",{staticClass:"card-input__label",attrs:{for:"supportedBanks"}},[t._v("Supported Banks")]),a("v-select",{attrs:{id:"supportedBanks",label:"bank",options:t.allSupportedBanks},model:{value:t.selectedOption,callback:function(e){t.selectedOption=e},expression:"selectedOption"}})],1),a("div",{staticClass:"card-input"},[a("label",{staticClass:"card-input__label",attrs:{for:"accountNumber"}},[t._v("Account Number")]),a("input",{directives:[{name:"mask",rawName:"v-mask",value:t.generateCardNumberMask,expression:"generateCardNumberMask"},{name:"model",rawName:"v-model",value:t.cardNumber,expression:"cardNumber"}],staticClass:"card-input__input",attrs:{type:"text",id:"accountNumber","data-ref":"cardNumber",autocomplete:"off"},domProps:{value:t.cardNumber},on:{keyup:t.validateAccount,focus:t.focusInput,blur:t.blurInput,input:function(e){e.target.composing||(t.cardNumber=e.target.value)}}})]),a("div",{staticClass:"card-input"},[a("label",{staticClass:"card-input__label",attrs:{for:"cardName"}},[t._v("Account Holders Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.cardName,expression:"cardName"}],staticClass:"card-input__input",attrs:{type:"text",id:"cardName",disabled:t.accountNameDisable,"data-ref":"cardName",autocomplete:"off"},domProps:{value:t.cardName},on:{focus:[t.validateAccount,t.focusInput],mouseover:t.validateAccount,mouseenter:t.validateAccount,blur:t.blurInput,input:function(e){e.target.composing||(t.cardName=e.target.value)}}})]),a("div",{staticClass:"card-input"},[a("label",{staticClass:"card-input__label",attrs:{for:"amount"}},[t._v("Amount")]),a("input",{directives:[{name:"currency",rawName:"v-currency",value:{currency:"NGN"},expression:"{currency: 'NGN'}"},{name:"model",rawName:"v-model",value:t.amount,expression:"amount"}],staticClass:"w-full card-input__input",attrs:{name:"Amount","icon-pack":"feather",icon:"feather icon-credit-card","icon-no-border":"","label-placeholder":"Amount"},domProps:{value:t.amount},on:{input:function(e){e.target.composing||(t.amount=e.target.value)}}})]),a("vs-button",{staticClass:"card-form__button",on:{click:t.initiateTransfer}},[t._v("\n            Submit\n          ")])],1)])])])])},s=[],c=(a("8e6e"),a("ac6a"),a("456d"),a("a481"),a("c5f6"),a("4917"),a("3b2b"),a("ade3")),i=a("2f62"),n=a("4a7a"),o=a.n(n);function d(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function l(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?d(Object(a),!0).forEach((function(e){Object(c["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var u={components:{"v-select":o.a},data:function(){return{currentCardBackground:Math.floor(25*Math.random()+1),cardNumber:"",cardMonth:"",cardYear:"",cardCvv:"",minCardYear:(new Date).getFullYear(),amexCardMask:"#### ###### #####",otherCardMask:"### ### ##",cardNumberTemp:"",isCardFlipped:!1,focusElementStyle:null,isInputFocused:!1,selectedOption:"Choose Bank",amount:"",accountNumber:"",cardName:"",accountNameDisable:!1}},mounted:function(){this.cardNumberTemp=this.otherCardMask,document.getElementById("cardNumber").focus()},computed:l(l({},Object(i["c"])({getSupportedBanks:"withdrawal/getSupportedBanks",getWithdrawalCharges:"withdrawal/getWithdrawalCharges"})),{},{totalWithdrawalCharges:function(){return this.getWithdrawalCharges},allSupportedBanks:function(){return this.getSupportedBanks.data},getCardType:function(){var t=this.cardNumber,e=new RegExp("^4");return null!=t.match(e)?"visa":(e=new RegExp("^(34|37)"),null!=t.match(e)?"amex":(e=new RegExp("^5[1-5]"),null!=t.match(e)?"mastercard":(e=new RegExp("^6011"),null!=t.match(e)?"discover":(e=new RegExp("^9792"),null!=t.match(e)?"troy":"visa"))))},generateCardNumberMask:function(){return"amex"===this.getCardType?this.amexCardMask:this.otherCardMask},minCardMonth:function(){return this.cardYear===this.minCardYear?(new Date).getMonth()+1:1}}),watch:{cardYear:function(){this.cardMonth<this.minCardMonth&&(this.cardMonth="")}},methods:l(l({},Object(i["b"])({supportedBanks:"withdrawal/supportedBanks",validateBankCredentials:"withdrawal/validateBankCredentials",initiateCashTransfer:"withdrawal/initiateCashTransfer",withdrawalCharges:"withdrawal/withdrawalCharges"})),{},{initiateTransfer:function(){var t=this,e={account_number:this.cardNumber,bank_code:this.selectedOption.code,account_name:this.cardName,amount:Number(this.amount.replace(/[^0-9.-]+/g,"")),currency:"NGN"};this.$vs.loading(),this.initiateCashTransfer(e).then((function(e){t.$vs.loading.close(),console.log(e.data),200==e.status?(t.$vs.notify({title:"Success",text:e.data.message,position:"top-right",iconPack:"feather",icon:"icon-alert-circle",color:"success"}),t.$router.replace({name:"dashboard-analytics"}).catch((function(t){console.log(t)}))):t.$vs.notify({title:"Error",text:e.data.message,position:"top-right",iconPack:"feather",icon:"icon-alert-circle",color:"danger"})})).catch((function(e){console.log(e),t.$vs.loading.close(),t.$vs.notify({title:"Error",text:e.response.data.messages.error,position:"top-right",iconPack:"feather",icon:"icon-alert-circle",color:"danger"})}))},validateAccount:function(){var t=this;if(""==this.cardName&&0==this.accountNameDisable&&10==this.cardNumber.length){var e={code:this.selectedOption.code,accountNumber:this.cardNumber};this.$vs.loading(),this.validateBankCredentials(e).then((function(e){t.$vs.loading.close(),200==e.status?(t.accountNameDisable=!0,t.cardName=e.data.data.account_name,t.$vs.notify({title:"Success",text:"Account Found",position:"top-right",iconPack:"feather",icon:"icon-alert-circle",color:"success"})):t.$vs.notify({title:"Error",text:e.data.message,position:"top-right",iconPack:"feather",icon:"icon-alert-circle",color:"danger"})})).catch((function(e){console.log(e),t.$vs.loading.close(),t.$vs.notify({title:"Error",text:e.response.data.messages.error,position:"top-right",iconPack:"feather",icon:"icon-alert-circle",color:"danger"})}))}},flipCard:function(t){this.isCardFlipped=t},focusInput:function(t){this.isInputFocused=!0;var e=t.target.dataset.ref,a=this.$refs[e];this.focusElementStyle={width:"".concat(a.offsetWidth,"px"),height:"".concat(a.offsetHeight,"px"),transform:"translateX(".concat(a.offsetLeft,"px) translateY(").concat(a.offsetTop,"px)")}},blurInput:function(){var t=this;setTimeout((function(){t.isInputFocused||(t.focusElementStyle=null)}),300),t.isInputFocused=!1}}),created:function(){var t="NGN";this.supportedBanks(t),this.withdrawalCharges(t)}},m=u,p=(a("65f6"),a("2877")),f=Object(p["a"])(m,r,s,!1,null,null,null);e["default"]=f.exports},"990b":function(t,e,a){var r=a("9093"),s=a("2621"),c=a("cb7c"),i=a("7726").Reflect;t.exports=i&&i.ownKeys||function(t){var e=r.f(c(t)),a=s.f;return a?e.concat(a(t)):e}},ade3:function(t,e,a){"use strict";function r(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}a.d(e,"a",(function(){return r}))},f1ae:function(t,e,a){"use strict";var r=a("86cc"),s=a("4630");t.exports=function(t,e,a){e in t?r.f(t,e,s(0,a)):t[e]=a}}}]);
//# sourceMappingURL=chunk-bb54f76e.3c23adfc.js.map