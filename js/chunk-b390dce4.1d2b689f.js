(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b390dce4"],{3846:function(t,e,a){a("9e1e")&&"g"!=/./g.flags&&a("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:a("0bfb")})},"6b54":function(t,e,a){"use strict";a("3846");var s=a("cb7c"),n=a("0bfb"),r=a("9e1e"),o="toString",c=/./[o],i=function(t){a("2aba")(RegExp.prototype,o,t,!0)};a("79e5")((function(){return"/a/b"!=c.call({source:"a",flags:"b"})}))?i((function(){var t=s(this);return"/".concat(t.source,"/","flags"in t?t.flags:!r&&t instanceof RegExp?n.call(t):void 0)})):c.name!=o&&i((function(){return c.call(this)}))},"8e6e":function(t,e,a){var s=a("5ca1"),n=a("990b"),r=a("6821"),o=a("11e9"),c=a("f1ae");s(s.S,"Object",{getOwnPropertyDescriptors:function(t){var e,a,s=r(t),i=o.f,l=n(s),u={},m=0;while(l.length>m)a=i(s,e=l[m++]),void 0!==a&&c(u,e,a);return u}})},"990b":function(t,e,a){var s=a("9093"),n=a("2621"),r=a("cb7c"),o=a("7726").Reflect;t.exports=o&&o.ownKeys||function(t){var e=s.f(r(t)),a=n.f;return a?e.concat(a(t)):e}},ade3:function(t,e,a){"use strict";function s(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}a.d(e,"a",(function(){return s}))},b385:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("vs-row",[a("vs-col",{staticClass:"m-2",attrs:{"vs-md":"6","vs-order":"2","vs-lg":"6","vs-type":"fle","vs-justify":"center","vs-alig":"center","vs-sm":"12","vs-xs":"12"}},[a("vs-card",[a("div",[a("vs-table",{attrs:{search:"","max-items":"6",pagination:"",stripe:"",data:t.user_transactions},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.data;return t._l(s,(function(e,n){return a("vs-tr",{key:n},[a("vs-td",{attrs:{data:s[n].amount}},[t._v("  "+t._s(s[n].amount)+" ")]),a("vs-td",{attrs:{data:s[n].card_number}},[t._v("\n                  "+t._s(s[n].card_number)+"\n                ")]),a("vs-td",{attrs:{data:s[n].status}},[a("vs-chip",{attrs:{color:"primary"}},[a("vs-avatar",{attrs:{icon:"check"}}),a("span",[t._v(t._s(s[n].status))])],1)],1),a("vs-td",{attrs:{data:s[n].date}},[t._v("\n                  "+t._s(s[n].date)+"\n                ")])],1)}))}}])},[a("template",{slot:"header"},[a("h3",[t._v("\n                Payments History\n              ")])]),a("template",{slot:"thead"},[a("vs-th",{attrs:{"sort-key":"amount"}},[t._v(" Amount ")]),a("vs-th",{attrs:{"sort-key":"card_number"}},[t._v(" Card Number ")]),a("vs-th",{attrs:{"sort-key":"status"}},[t._v(" Status ")]),a("vs-th",{attrs:{"sort-key":"date"}},[t._v(" Date ")])],1)],2)],1)])],1),a("vs-col",{staticClass:"m-2 mb-5",attrs:{"vs-md":"5","vs-order":"1","vs-lg":"5","vs-type":"flex","vs-justify":"center","vs-align":"center","vs-sm":"12","vs-xs":"12"}},[a("vx-card",[a("h2",{staticClass:"m-3",attrs:{icon:"feather icon-credit-card"}},[t._v("Deposit Payment")]),a("div",{staticClass:"vx-row mb-6 mt-10"},[a("div",{staticClass:"vx-col w-full"},[a("label",[t._v("Select Payment Method")]),a("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-full",attrs:{"data-vv-validate-on":"blur",name:"Payment Method",options:["Paystack","Stripe"]},model:{value:t.payment_method,callback:function(e){t.payment_method=e},expression:"payment_method"}}),a("span",{staticClass:"text-danger text-sm"},[t._v(t._s(t.errors.first("Payment Method")))])],1)]),a("div",{staticClass:"vx-row mb-4 mt-6"},[a("div",{staticClass:"vx-col w-full"},[a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],staticClass:"w-full mt-6 mb-2",attrs:{"data-vv-validate-on":"blur",name:"email",type:"email","label-placeholder":"Email",placeholder:"Email"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),a("span",{staticClass:"text-danger text-sm"},[t._v(t._s(t.errors.first("email")))])],1)]),a("div",{staticClass:"vx-row mb-4 mt-6"},[a("div",{staticClass:"vx-col w-full"},[a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-full",attrs:{"data-vv-validate-on":"blur",name:"Amount","icon-pack":"feather",icon:"feather icon-credit-card","icon-no-border":"","label-placeholder":"Amount"},model:{value:t.amount,callback:function(e){t.amount=e},expression:"amount"}}),a("span",{staticClass:"text-danger text-sm"},[t._v(t._s(t.errors.first("Amount")))])],1)]),a("div",{staticClass:"vx-row "},[a("div",{staticClass:"vx-col w-full mt-6"},[a("vs-button",{staticClass:"mb-2",staticStyle:{width:"100%"},attrs:{disabled:!t.validateForm,"icon-pack":"feather",icon:"feather icon-credit-card"},on:{click:t.completePayment}},[t._v("Complete Payment")])],1)])])],1)],1)},n=[],r=(a("8e6e"),a("ac6a"),a("456d"),a("6b54"),a("a481"),a("ade3")),o=a("bc3a"),c=a.n(o),i=a("2f62"),l=a("4a7a"),u=a.n(l);function m(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function v(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?m(Object(a),!0).forEach((function(e){Object(r["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):m(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var d={data:function(){return{amount:"",email:"",payment_method:""}},components:{vSelect:u.a},methods:v(v({},Object(i["b"])({transactionDetailsData:"payments/transactionDetailsData",completePaystackPayment:"payments/completePaystackPayment"})),{},{completePayment:function(){"Paystack"==this.payment_method?this.payWithPaystack():"Stripe"==this.payment_method&&this.invokeStripe()},payWithPaystack:function(){var t=PaystackPop.setup({key:"pk_test_d236cd0f648a7429521cad6c3018cd4d920f49e0",email:this.email,amount:100*this.amount,reference:""+Math.floor(1e9*Math.random()+1),callback:function(t){var e=t.reference,a=new FormData;a.append("reference",e),c()({method:"post",url:"/paystack/invoke",data:a}).then((function(t){window.location.reload()})).catch((function(t){console.log(t)}))},onClose:function(){alert("Transaction was not completed, window closed.")}});t.openIframe()},creditUserAccount:function(t){var e=this;this.$vs.loading(),this.completePaystackPayment(t).then((function(t){console.log(t.data),e.$vs.loading.close(),e.$vs.notify({title:"Success",text:t.data.message,position:"top-right",iconPack:"feather",icon:"icon-alert-circle",color:"success"})})).catch((function(t){console.log(t),e.$vs.loading.close(),e.$vs.notify({title:"Error",text:Object(t.response.data.messages.error),position:"top-right",iconPack:"feather",icon:"icon-alert-circle",color:"danger"})}))},invokeStripe:function(){localStorage.setItem("amount",this.amount),this.$router.replace({name:"deposit-pay",params:{amount:this.amount}}).catch((function(t){console.log(t)}))}}),computed:v(v({},Object(i["c"])({getTransactionsDetails:"payments/getTransactionsData"})),{},{user_transactions:function(){return null==this.getTransactionsDetails?[]:this.getTransactionsDetails},validateForm:function(){return!this.errors.any()&&""!=this.payment_method&&""!=this.amount&&""!=this.email}}),created:function(){this.transactionDetailsData()},filters:{capitalize:function(t){return t?(t=t.toString(),t.charAt(0).toUpperCase()+t.slice(1)):""}}},p=d,f=a("2877"),h=Object(f["a"])(p,s,n,!1,null,null,null);e["default"]=h.exports},f1ae:function(t,e,a){"use strict";var s=a("86cc"),n=a("4630");t.exports=function(t,e,a){e in t?s.f(t,e,n(0,a)):t[e]=a}}}]);
//# sourceMappingURL=chunk-b390dce4.1d2b689f.js.map